"use strict";function Saolei(t,e){var n=document.querySelector(t),o=[],c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAFJUlEQVRoQ+2ZbWhbVRjH/8/J28QXFMSJtkmltLnJNoZuoAwcCr6MCTKZfhF8wcnwBT/YLwNF7DqmW+bq5phz0gk6qbI61w4Gc4qdOgYT5wfbNUkr2nsTNycMZRtbc29yHjlJ3yxJc3OTtAl44X465/yf/++et+fcQ6jgE2v09LOgXSHd/LKCsrakyFYtm5UUCIjuA6hLMu8MJ8xBm03LrlYlkKyvPwC895lhvrMRkGU7LSJQTZBcaObjAO3QEmZfNWGqDzLpnrqkRCScTI1UA2gOQXLDjZk6Q4lUZ6Vh5hpk3D/3Q4qIlkwdrRTQPIHk7BPzbivtiiw+N2aUCzSvIFkYIMGgTs1I7SgHZt5BpszTCWLeHkyYvU6Aaghk0v6nLmBLi2GeKQWoFkGU/6tgbL98i9mx/DQsO0C1CpJbDIBoBrwlbFifFIOpaZBJ84yjgrm9NWmdKgRUHyBTRDt9wmq/YxT/zASqM5Bs8vYXGO1awtozHabuQAho7zbMTTMz6noC6ZGMjkJnnJoHIeBMGuhYZJgHZlu5ahpEDaML0oysSOJqvS6/PQzeGjKs08UAJsprqkfUMMqAt4YNa79dgJoDIeDtK8KM3Jlnj7ADVQs90sckIyE9fdKO4Vrc2eMgjmi69VE5APM9tCIur7m55VdcrATEeIJZKSlg6gddQc3DYN6kJayfKhc1pzRXcyQuCB2tutldaYA5G1oMdIQM881qAVQdhAifu11iQ/Nv5f8hsfMRqjK0GNgYMsx2OwYqVed/kHxfcmLVqpseiTX5VhGjWUI2E9PtgHr5NgDq9QG4AGCYgREw4gQahKABTR/7vVJDyfFRd7jRvVISrQVoHYBr8xg6C+bh3EUPfgTQCuDG/x5H6YQk9HEGfZX+K190jkT93nYCHgGwfJqpHiL6DkwxSIoFk1fVpc7khjgxtBhwxRq8YRIIMRAmxhoQlhKQkYw+QdwbdJDp5uvVgiAjfm84A2wDsDq7cxIOgbmXr7EOaXFccjpH4gHfajDWMPAYwDcDtFczUi+UO+TygigICRxgYBGAkyDxhqaPfVssWCmTfaDR1+wGbyNSQDi2gNzPNulXzhWLUVL2G/N7VS60jAlvhXTzdbvipYBMaEYbva8RYTMRTgV18x67sYpO9qjfs55Ae5n43ZButZUi7ARE6UcDnk5iehUSS7Wk+UspMQumKLFG7z4QnpPEy8K69XMpok5BhgKeuwSTOp9v0AwzUkrMWUA8/apQS1j3lyroFGRyxXMYN7sYzTQbC/jeB/OLxHJlMJH+oRSYaINb7SHZJ5RMH7fbNt7ovpdJfA+iPZqeesluu+n18oB41oGpC8BBzTAfdyJaapuY3/sFgLUgfl7TrX2lts/bI9lu9nvVbevDAH0QNFKvEJB2Il6sDQPuuN+3C2C1j3ylGeaqYm0KlefdR6JNC5qEzHzIoAfVPiIkt812N+Ek+HCD524pSN23ryDw11K41odGx0adaBXsEVUwGIbXdcnTSUQvA7jMzB8TxDEtkTrsNFhuUvseZciHiOgZANcx8+7M9Vbb4iGY5egWzbXifs/TEniKQA+MBzrLoCOQme60S5y/gc0/Awb+zmdC9+Omi+S91Z2RCyFcTxJY5WwqQwaDvxHA/qCNazU7gEVBJkTG05YnWE1KYMkMcfU1z4+/qmjh+OudUW+AgIMC6GkxzCE7Bu3WsQ0yXVBBWYwlQpCfpQwQkR+EABiBbD2CDobOzAYJoUvJhocwUGnz0z39C3J8PFEMFrq5AAAAAElFTkSuQmCC",a={line:10,column:10,num:10,width:400,height:400};Object.keys(e).forEach(function(t){a[t]=e[t]}),n.innerHTML="";var r={width:"".concat(a.width,"px"),height:"".concat(a.height,"px"),border:"2px solid #999",position:"relative",userSelect:"none"};Object.keys(r).forEach(function(t){n.style[t]=r[t]});for(var i=0;i<a.line;i++)for(var l=0;l<a.column;l++)o.push({X:l,Y:i,state:"OFF",content:0,dom:void 0});for(var d=0;d<a.num;d++){for(var s=Math.floor(Math.random()*(a.line*a.column));1&&9==o[s].content;)s=Math.floor(Math.random()*(a.line*a.column));o[s].content=9}for(d=0;d<o.length;d++)if(o[d].content>=9){l=o[d].X,i=o[d].Y;for(var g=0;g<o.length;g++){var h="".concat(o[g].X,",").concat(o[g].Y);h!="".concat(l-1,",").concat(i-1)&&h!="".concat(l,",").concat(i-1)&&h!="".concat(l+1,",").concat(i-1)&&h!="".concat(l-1,",").concat(i)&&h!="".concat(l+1,",").concat(i)&&h!="".concat(l-1,",").concat(i+1)&&h!="".concat(l,",").concat(i+1)&&h!="".concat(l+1,",").concat(i+1)||(o[g].content+=1)}}for(d=0;d<o.length;d++)o[d].content>=9?o[d].content="雷":0==o[d].content&&(o[d].content="");var f=document.createDocumentFragment();for(d=0;d<o.length;d++){var u=document.createElement("p"),p={margin:"1px",width:"".concat(n.clientWidth/a.column-2,"px"),height:"".concat(n.clientHeight/a.line-2,"px"),textAlign:"center",color:"rgb(207, 102, 102)",backgroundColor:"#007acc",float:"left",borderRadius:"2px",cursor:"pointer",lineHeight:"".concat(n.clientHeight/a.line-2,"px"),fontSize:"".concat(n.clientHeight/a.line-2-10,"px")};Object.keys(p).forEach(function(t){u.style[t]=p[t]}),u.className="saolei_fangge",u.innerHTML='<span style="display:none;">'.concat(o[d].content,"</span>"),f.appendChild(u),o[d].dom=u}function m(t){var e=(t=t||window.event).target||t.srcElement;if("P"===e.nodeName){for(var c,r=0;r<o.length;r++)o[r].dom===e&&(c=r);if(void 0==c)return void n.removeEventListener("click",m);if("Q"!=o[c].state){var i=function(){for(var t=o.length,e=0;e<o.length;e++)"ON"!=o[e].state&&"ON2"!=o[e].state||(t-=1);if(t==a.num){n.removeEventListener("click",m);var c=document.createElement("div");c.innerText="游戏胜利";var r={width:"200px",height:"70px",backgroundColor:"rgba(252, 120, 120, 0.8)",position:"absolute",top:"calc(50% - 35px - 10px)",left:"calc(50% - 100px)",zIndex:"10",borderRadius:"20px",textAlign:"center",lineHeight:"70px",fontSize:"40px"};Object.keys(r).forEach(function(t){c.style[t]=r[t]}),n.appendChild(c)}};if(e.firstElementChild.style.display="inline",e.style.backgroundColor="rgb(109, 164, 247)",o[c].state="ON","雷"===o[c].content){console.log("游戏失败");for(r=0;r<o.length;r++)"雷"===o[r].content&&(o[r].dom.style.backgroundColor="rgb(109, 164, 247)",o[r].dom.style.backgroundImage="",o[r].dom.querySelector("span").style.display="inline");n.removeEventListener("click",m);var l=document.createElement("div");l.innerText="游戏失败";var d={width:"200px",height:"70px",backgroundColor:"rgba(252, 120, 120, 0.8)",position:"absolute",top:"calc(50% - 35px - 10px)",left:"calc(50% - 100px)",zIndex:"10",borderRadius:"20px",textAlign:"center",lineHeight:"70px",fontSize:"40px"};Object.keys(d).forEach(function(t){l.style[t]=d[t]}),n.appendChild(l)}else if(!o[c].content)var s=setInterval(function(){for(var t=[],e=0;e<o.length;e++)o[e].content||"ON"!=o[e].state||t.push(o[e]);t.length||(clearInterval(s),i());for(e=0;e<t.length;e++){for(var n=t[e].X,c=t[e].Y,a=0;a<o.length;a++){var r="".concat(o[a].X,",").concat(o[a].Y);r!="".concat(n-1,",").concat(c-1)&&r!="".concat(n,",").concat(c-1)&&r!="".concat(n+1,",").concat(c-1)&&r!="".concat(n-1,",").concat(c)&&r!="".concat(n+1,",").concat(c)&&r!="".concat(n-1,",").concat(c+1)&&r!="".concat(n,",").concat(c+1)&&r!="".concat(n+1,",").concat(c+1)||"OFF"==o[a].state&&(o[a].dom.firstElementChild.style.display="inline",o[a].dom.style.backgroundColor="rgb(109, 164, 247)",o[a].state="ON")}t[e].state="ON2"}},20);i()}}}n.appendChild(f),n.addEventListener("click",m),n.oncontextmenu=function(){return!1},n.addEventListener("contextmenu",function(t){var e=(t=t||window.event).target||t.srcElement;if("P"===e.nodeName){for(var a,r=0;r<o.length;r++)o[r].dom===e&&(a=r);if(void 0==a)return void n.removeEventListener("contextmenu",m);"OFF"==o[a].state?(o[a].state="Q",o[a].dom.style.backgroundImage="url('".concat(c,"')"),o[a].dom.style.backgroundPosition="center",o[a].dom.style.backgroundSize="66%",o[a].dom.style.backgroundRepeat="no-repeat"):"Q"==o[a].state&&(o[a].state="OFF",o[a].dom.style.backgroundImage="")}})}