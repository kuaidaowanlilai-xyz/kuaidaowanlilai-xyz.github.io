"use strict";function Saolei(t,e){var n=document.querySelector(t),o=[],c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAC6ElEQVRIS72WT0gUcRTHv++3u7NFEEGCEO4aoe64CR06FEFISFDRpUNBQadOYV2i6BKpixUsVEJolwhCMMKDWZSHsksgRR4qTHddK3ZWksjAQtOZ2ZkXs7k1m+vujO76g7nM7733+b7v788MwcUYC0qtBJqRFbXDRVreUHJT4A8YLQx+zkRd4aTW5ybfHrsicLYAge4I8M1aRRt1K2BV4EXYFAhdclJrdwMvBTjDI8YrJtyQFa3XiYCSgW2wBx4gUsz+coDBwCyA6/WK1rpc92UB22AjACL57C83OKuh1wO02u1fK3BGAANtWfvXBszogZci8mc1/u8OcLL3F2OyN5fTFALeMFO7nFIf/Z9Tro5/ALgqK1p07XY14y68FLXbmg9eyo6HwIjKKa3fyVKsGkzAjAlE6xXtmhNgSTYXAd26Li41TC0obqCZu91Ngm1XD4PERTm58MJN/uq+x8yNckrft1Kga6sTQSmcBo4Rc6MhcE7y6R9rJ/BzpQKWtfpDlW+Xl3AURAcYCABIEyHBJs+DKMTARgIUMA0RjHuhVPqlGxFLwImtvt0mUwczKgH0MpkPjV/p9w3fMJtZ40WrR8KQ/HPenQaLI4AlEG9h8hU5pQ87EZADHg/6D5vgx0x0QVtQb+/4ijl7ETvY/v5dJTZI6/ynBZvnicSpuqT6pBg8BxwLSoZh8p7tk/rrfInLgbOx1vJ4BA3JiuZxDI4FJcuuE3JSs6zLO4qBraRYtdQHRk+xf6+/Hcer/QfZ5LNySjtUCGzNFfqliQWkpyToViipDhTqOsfqsaCU8DAu16W0+8Wsyjc/HpCOG4RIvaLVFsvPAccD3r1MohPgQa8pOmsm1YliBaz5iSp/TVqYzQA1EZvNTo7WkuMU34IKeHwtTHQGjAEBdJPgGOne6RnMf7dAm7B+M/vSFWySbAInQWgg5n4YelvoC6adiC14V48G/fsFuAnANttj1f2UfUzQYFhRnzmB2WN+A+46RS69UAGXAAAAAElFTkSuQmCC",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAB60lEQVRIS+2Wv2tVQRCFv/MfWChEEQSrQBCEKJpOsZCQgFiYyiqBiJ3aKqgIYhchgfxAOy3URlJIikBSCRYRCxEsFEWxEAURS+HIwA28vLd7775rrMzAVjsz35uZM/uuKDTbw8BR4BhwCNgL7APeV+cj8BmYlfS9Ka2aHGwfBi4C002+1f07YC6OpN+5mFqw7UvAdWBXIbTT7SUwKulrKjYLth0VLrYAdoYsSzpTDLY9Ajz/S+hm+IykK925khXbfgycy4A3gAfAJ+AXcAAI4dVp4LikF535esC2DwIhkJQtA1OSvnVfVqpfAXYnAm9KutEEjpk8TQT/BEYkvcmNoBLjTOL+oaTzTeBrwK2SX52oOnb7SyK2R2SpVj8CJhLBY5Ke1QnO9ilgNeFzVdLtporHgYHq7AHixNymJX1oAN8HJhM+ZyVtGV/jy1W6UjV7vyHpSNE6lcLCz/Z+IPb0cibugqSlbQXbjl2/A8QKpqxnjTadWrfadig/NiBlP4CA3s11rxXY9r14SDJJo63zkl7VjaxvsO3TQLxQKZuQ9KREI23AuWoHJb0tgYZPG/BrYKgLsCApPhaKrQ3YiewnJa0XU1tWvOVfpoKt/3NwP1Vtq6r/L7DtE8Bapuq+BNaXqnfAXS3faXXt5v0BDZ2vHxygMwUAAAAASUVORK5CYII=",r={line:10,column:10,num:10,width:400,height:400};Object.keys(e).forEach(function(t){r[t]=e[t]}),n.innerHTML="";var i={width:"".concat(r.width,"px"),height:"".concat(r.height,"px"),border:"2px solid #999",position:"relative",userSelect:"none"};Object.keys(i).forEach(function(t){n.style[t]=i[t]});for(var l=0;l<r.line;l++)for(var s=0;s<r.column;s++)o.push({X:s,Y:l,state:"OFF",content:0,dom:void 0});for(var d=0;d<r.num;d++){for(var A=Math.floor(Math.random()*(r.line*r.column));1&&9==o[A].content;)A=Math.floor(Math.random()*(r.line*r.column));o[A].content=9}for(d=0;d<o.length;d++)if(o[d].content>=9){s=o[d].X,l=o[d].Y;for(var g=0;g<o.length;g++){var u="".concat(o[g].X,",").concat(o[g].Y);u!="".concat(s-1,",").concat(l-1)&&u!="".concat(s,",").concat(l-1)&&u!="".concat(s+1,",").concat(l-1)&&u!="".concat(s-1,",").concat(l)&&u!="".concat(s+1,",").concat(l)&&u!="".concat(s-1,",").concat(l+1)&&u!="".concat(s,",").concat(l+1)&&u!="".concat(s+1,",").concat(l+1)||(o[g].content+=1)}}for(d=0;d<o.length;d++)o[d].content>=9?o[d].content="雷":0==o[d].content&&(o[d].content="");var p=document.createDocumentFragment();for(d=0;d<o.length;d++){var f=document.createElement("p"),m={margin:"1px",width:"".concat(n.clientWidth/r.column-2,"px"),height:"".concat(n.clientHeight/r.line-2,"px"),textAlign:"center",color:"rgb(207, 102, 102)",backgroundColor:"#007acc",float:"left",borderRadius:"2px",cursor:"pointer",lineHeight:"".concat(n.clientHeight/r.line-2,"px"),fontSize:"".concat(n.clientHeight/r.line-2-10,"px")};Object.keys(m).forEach(function(t){f.style[t]=m[t]}),f.className="saolei_fangge",f.innerHTML='<span style="display:none;">'.concat(o[d].content,"</span>"),p.appendChild(f),o[d].dom=f}function h(t){var e=(t=t||window.event).target||t.srcElement;if("P"===e.nodeName){for(var r,i=0;i<o.length;i++)o[i].dom===e&&(r=i);if(void 0==r)return void n.removeEventListener("contextmenu",h);"OFF"==o[r].state?(o[r].state="Q",o[r].dom.style.backgroundImage="url('".concat(c,"')"),o[r].dom.style.backgroundPosition="center",o[r].dom.style.backgroundSize="66%",o[r].dom.style.backgroundRepeat="no-repeat"):"Q"==o[r].state?(o[r].state="WH",o[r].dom.style.backgroundImage="url('".concat(a,"')"),o[r].dom.style.backgroundPosition="center",o[r].dom.style.backgroundSize="66%",o[r].dom.style.backgroundRepeat="no-repeat"):"WH"==o[r].state&&(o[r].state="OFF",o[r].dom.style.backgroundImage="")}}n.appendChild(p),n.addEventListener("click",function t(e){e=e||window.event;var c=e.target||e.srcElement;if("P"===c.nodeName){for(var a,i=0;i<o.length;i++)o[i].dom===c&&(a=i);if(void 0==a)return void n.removeEventListener("click",t);if("OFF"==o[a].state){var l=function(){for(var e=o.length,c=0;c<o.length;c++)"ON"!=o[c].state&&"ON2"!=o[c].state||(e-=1);if(e==r.num){n.removeEventListener("click",t),n.removeEventListener("contextmenu",h);var a=document.createElement("div");a.innerText="游戏胜利";var i={width:"200px",height:"70px",backgroundColor:"rgba(252, 120, 120, 0.8)",position:"absolute",top:"calc(50% - 35px - 10px)",left:"calc(50% - 100px)",zIndex:"10",borderRadius:"20px",textAlign:"center",lineHeight:"70px",fontSize:"40px"};Object.keys(i).forEach(function(t){a.style[t]=i[t]}),n.appendChild(a)}};if(c.firstElementChild.style.display="inline",c.style.backgroundColor="rgb(109, 164, 247)",o[a].state="ON","雷"===o[a].content){for(var i=0;i<o.length;i++)"雷"===o[i].content&&(o[i].dom.style.backgroundColor="rgb(109, 164, 247)",o[i].dom.style.backgroundImage="",o[i].dom.querySelector("span").style.display="inline");n.removeEventListener("click",t),n.removeEventListener("contextmenu",h);var s=document.createElement("div");s.innerText="游戏失败";var d={width:"200px",height:"70px",backgroundColor:"rgba(252, 120, 120, 0.8)",position:"absolute",top:"calc(50% - 35px - 10px)",left:"calc(50% - 100px)",zIndex:"10",borderRadius:"20px",textAlign:"center",lineHeight:"70px",fontSize:"40px"};Object.keys(d).forEach(function(t){s.style[t]=d[t]}),n.appendChild(s)}else if(!o[a].content)var A=setInterval(function(){for(var t=[],e=0;e<o.length;e++)o[e].content||"ON"!=o[e].state||t.push(o[e]);t.length||(clearInterval(A),l());for(var e=0;e<t.length;e++){for(var n=t[e].X,c=t[e].Y,a=0;a<o.length;a++){var r="".concat(o[a].X,",").concat(o[a].Y);r!="".concat(n-1,",").concat(c-1)&&r!="".concat(n,",").concat(c-1)&&r!="".concat(n+1,",").concat(c-1)&&r!="".concat(n-1,",").concat(c)&&r!="".concat(n+1,",").concat(c)&&r!="".concat(n-1,",").concat(c+1)&&r!="".concat(n,",").concat(c+1)&&r!="".concat(n+1,",").concat(c+1)||"OFF"==o[a].state&&(o[a].dom.firstElementChild.style.display="inline",o[a].dom.style.backgroundColor="rgb(109, 164, 247)",o[a].state="ON")}t[e].state="ON2"}},20);l()}}}),n.oncontextmenu=function(){return!1},n.addEventListener("contextmenu",h)}